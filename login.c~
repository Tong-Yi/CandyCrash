#include <stdio.h>
#include <stdlib.h>
#include <string.h>

void main()
{	

   printf("Content-Type:text/html\n\n");
   printf("<html>");
   printf("<head><title>ERROR</title></head>");
   //printf("<body><p>Error: Wrong Username and/or Password!</p></body>");

   char inputString[200];
   char c;
   int counter = 0;
   int firstWord = 0;
   int length = atoi((getenv("CONTENT_LENGTH"));

   FILE* membersData = fopen("./members.csv", "r");
   FILE* loggedIn = fopen("./loggedin.csv", "w");
   char tempLine[1024];
   int successLogin = 1;
   char* tempName;
   char* tempUsername;
   char* tempPass;
   char* inputUsername;
   char* inputPassword;
   while ((c = getchar()) != EOF && counter<length)
   {
      if (counter < 200)
      {
         if (c!='+') inputString[counter]=c;
         else inputString[counter]=' ';
         counter++;
      }
   }
   inputString[counter] = ‘\0’;
   printf("<body><p>Error: %s</p></body>", inputString);
   /*
   while (fgets(tempLine, 1024, membersData))
   {
      tempName = strtok(tempLine, ",");
      tempUsername = strtok(NULL, ",");
      tempPass = strtok(NULL,"\n");
      if((strcmp(inputUsername,tempUsername)==0)&&(strcmp(inputPassword,tempPass)==0))
      {
         fprintf(loggedIn, "%s\n", inputUsername);
         successLogin = 0;
         
         break;
      }
      memset(tempLine,0,sizeof(tempLine));
   }
   if(successLogin != 0)
   {
      printf("<body><p>Wrong username and/or password!</p><body>");
   }*/
   printf("</html>");
}


